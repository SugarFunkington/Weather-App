(function(){"use strict";var e={7522:function(e,t,a){var r=a(9242),n=a(3396),o=a(7139);const i={key:0,class:"display"},c={key:1,class:"loading"};function s(e,t,a,r,s,l){const h=(0,n.up)("SearchBar"),d=(0,n.up)("LocationDisplay"),u=(0,n.up)("WeatherDisplay"),p=(0,n.up)("LoadingSpinner");return(0,n.wg)(),(0,n.iD)("div",{id:"app",style:(0,o.j5)({"background-image":s.bg_url})},[(0,n._)("main",null,[(0,n.Wm)(h,{onSearch:l.fetchWeather},null,8,["onSearch"]),this.loading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(d,{location:this.location},null,8,["location"]),(0,n.Wm)(u,{weather:this.weather},null,8,["weather"])])),this.loading?((0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(p)])):(0,n.kq)("",!0)])],4)}function l(e,t,a,i,c,s){const l=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)({highlightForm:!0===c.formHighlighted})},[(0,n.wy)((0,n._)("input",{type:"text",class:"search-bar",id:"search-bar",placeholder:"Search for a city...","onUpdate:modelValue":t[0]||(t[0]=e=>c.query=e),onFocus:t[1]||(t[1]=e=>s.toggleFormHighlight()),onBlur:t[2]||(t[2]=e=>s.toggleFormHighlight()),onKeypress:t[3]||(t[3]=(...e)=>s.search&&s.search(...e))},null,544),[[r.nr,c.query]]),(0,n._)("button",{onClick:t[4]||(t[4]=(...e)=>s.search&&s.search(...e))},[(0,n.Wm)(l,{icon:"fa-solid fa-magnifying-glass"})])],2)}var h={name:"SearchBar",methods:{toggleFormHighlight(){this.formHighlighted=!this.formHighlighted},search(e){"keypress"===e.type&&"Enter"!==e.key||(this.$emit("search",this.query),this.query="",document.getElementById("search-bar").blur())}},emits:["search"],data(){return{query:"",formHighlighted:!1}}},d=a(89);const u=(0,d.Z)(h,[["render",l],["__scopeId","data-v-258c607c"]]);var p=u;const g={class:"location"},f={class:"date"};function y(e,t,a,r,i,c){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("h1",g,(0,o.zw)(a.location.locality)+", "+(0,o.zw)(a.location.country),1),(0,n._)("h3",f,(0,o.zw)(i.date),1)],64)}var w={name:"LocationDisplay",props:{location:Object},data(){return{date:""}},created(){let e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=a[e.getDay()],n=e.getDate(),o=t[e.getMonth()],i=e.getFullYear();this.date=`${r}, ${n} ${o} ${i}`}};const v=(0,d.Z)(w,[["render",y],["__scopeId","data-v-ff556d02"]]);var m=v;const _={class:"weather-box"},b={class:"temp"},F={class:"weather"};function k(e,t,a,r,i,c){return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",b,(0,o.zw)(Math.round(a.weather.main.temp))+"Â°c",1),(0,n._)("div",F,(0,o.zw)(a.weather.weather[0].main),1)])}var D={name:"WeatherDisplay",props:{weather:Object}};const O=(0,d.Z)(D,[["render",k],["__scopeId","data-v-322c4c34"]]);var $=O;const S=(0,n.uE)('<div class="container" data-v-cadd3ece><svg class="loader" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 340 340" data-v-cadd3ece><circle cx="170" cy="170" r="160" stroke="#FFFFFF" data-v-cadd3ece></circle><circle cx="170" cy="170" r="135" stroke="#FFFFFF" data-v-cadd3ece></circle><circle cx="170" cy="170" r="110" stroke="#FFFFFF" data-v-cadd3ece></circle><circle cx="170" cy="170" r="85" stroke="#FFFFFF" data-v-cadd3ece></circle></svg></div><p data-v-cadd3ece>Searching for location...</p>',2);function j(e,t,a,r,n,o){return S}var x={name:"LoadingSpinner"};const W=(0,d.Z)(x,[["render",j],["__scopeId","data-v-cadd3ece"]]);var B=W,H={name:"App",components:{SearchBar:p,LocationDisplay:m,WeatherDisplay:$,LoadingSpinner:B},data(){return{loading:!0,api_key:"0a0ae273264b3a2facc2da4dc3b568f6",weather_url:"https://api.openweathermap.org/data/2.5/weather?",geo_url:"https://api.openweathermap.org/geo/1.0/direct?q=",weather:{},location:{},unsplash_access_key:"uDBYoGP7lAboj7OD6BwdHS-aOHeN25wlsdru5oAbwOE",unsplash_secret_key:"lmNiBcvmGymi4UTPTDSrUCAYrGGlAzNx_cUduOwheNQ",bg_url:""}},methods:{async fetchWeather(e){this.loading=!0;let t="",a="";if("string"===typeof e){const r=await fetch(`${this.geo_url}${e}&limit=1&appid=${this.api_key}`),n=await r.json();t=n[0].lat,a=n[0].lon}else t=e.coords.latitude,a=e.coords.longitude;const r=await fetch(`${this.weather_url}lat=${t}&lon=${a}&units=metric&appid=${this.api_key}`),n=await r.json();this.weather=n;const o=this.weather.sys.country,i=new Intl.DisplayNames(["en"],{type:"region"}).of(o);this.location={locality:this.weather.name,country:i},this.getBgPhoto(this.weather.weather[0].description),this.loading=!1},async getBgPhoto(e){let t=e.replace(" ","+").concat("+weather");const a=await fetch(`https://api.unsplash.com/photos/random/?client_id=${this.unsplash_access_key}&query=${t}`),r=await a.json();this.bg_url=`url(${r.links.download})`}},async created(){navigator.geolocation.getCurrentPosition((e=>this.fetchWeather(e)))}};const q=(0,d.Z)(H,[["render",s]]);var A=q,I=a(3494),N=a(7749),P=a(8539);I.vI.add(P.Y$T),(0,r.ri)(A).component("font-awesome-icon",N.GN).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var i=1/0;for(h=0;h<e.length;h++){r=e[h][0],n=e[h][1],o=e[h][2];for(var c=!0,s=0;s<r.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[s])}))?r.splice(s--,1):(c=!1,o<i&&(i=o));if(c){e.splice(h--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],c=r[1],s=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(s)var h=s(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(h)},r=self["webpackChunkweather"]=self["webpackChunkweather"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7522)}));r=a.O(r)})();
//# sourceMappingURL=app.21883a84.js.map